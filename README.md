# Address Formatter

### Overview

A Maven package for formatting data in the OpenStreetMaps `address` field generated by the Nominatim API.

### Installation

Add the following to your pom.xml to use the latest release with Maven:

```
<dependency>
  <groupId>net.placemarkt</groupId>
  <artifactId>address-formatter-java</artifactId>
  <version>0.1</version>
</dependency> 
```
### API

```
// Returns an instance of the AddressFormatter class
AddressFormatter formatter = new AddressFormatter(Boolean abbreviate, Boolean appendCountry)

// Takes in a valud Json String argument returning a formatted address String.
formatter.format(String json)

// Takes in a String json argument and a fallbackCountry code in case provided country code is not valid.
String formattedAddress = formatter.format(String json, String fallbackCountryCode)
```

### Use

```
static AddressFormatter formatter = new AddressFormatter(OutputType.STRING, false, false);
String json = "{country_code: 'US',\n"
          + "house_number: '301',\n"
          + "road: 'Hamilton Avenue',\n"
          + "neighbourhood: 'Crescent Park',\n"
          + "city: 'Palo Alto',\n"
          + "postcode: '94303',\n"
          + "county: 'Santa Clara County',\n"
          + "state: 'California',\n"
          + "country: 'United States',}";
String formatted = formatter.format(json);
/*
301 Hamilton Avenue
Palo Alto, CA 94303
United States of America
*/

static AddressFormatter abbreviateFormatter = new AddressFormatter(OutputType.STRING, true, false);
String json = "{country_code: 'US',\n"
          + "house_number: '301',\n"
          + "road: 'Hamilton Avenue',\n"
          + "neighbourhood: 'Crescent Park',\n"
          + "city: 'Palo Alto',\n"
          + "postcode: '94303',\n"
          + "county: 'Santa Clara County',\n"
          + "state: 'California',\n"
          + "country: 'United States',}";
String formatted = abbreviateFormatter.format(json);
/*
301 Hamilton Ave
Palo Alto, CA 94303
United States of America
*/

static AddressFormatter appendCountryFormatter = new AddressFormatter(OutputType.STRING, false, true);
String json = "{country_code: 'US',\n"
          + "house_number: '301',\n"
          + "road: 'Hamilton Avenue',\n"
          + "neighbourhood: 'Crescent Park',\n"
          + "city: 'Palo Alto',\n"
          + "postcode: '94303',\n"
          + "county: 'Santa Clara County',\n"
          + "state: 'California',}"
String formatted = appendCountryFormatter.format(json);
/*
301 Hamilton Ave
Palo Alto, CA 94303
United States of America
*/

```

### Acknowledgements

- [Javascript implementation](https://github.com/fragaria/address-formatter)
