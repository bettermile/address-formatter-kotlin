# Address Formatter

### Overview

A Maven package for formatting data in the OpenStreetMaps `address` field generated by the Nominatim API.

### Installation

To use the latest release with Maven, add the following to your pom.xml:

```
<dependency>
  <groupId>net.placemarkt</groupId>
  <artifactId>address-formatter-java</artifactId>
  <version>0.1</version>
</dependency> 
```
### API

```
// Constructs a formatter 
AddressFormatter formatter = AddressFormatter(OutputType outputType, abbreviate, appendCountry)

// Takes in a String json argument and returns either a String or Array, depending on outputType flag set in constructor.
formatter.format(String json)

// Takes in a String json argument and a fallbackCountry code in case provided country code is not valid.
formatter.format(String json, String fallbackCountryCode)
```

### Use

```
static AddressFormatter formatter = new AddressFormatter(OutputType.STRING, false, false);
String json = "{country_code: 'US',\n"
          + "house_number: '301',\n"
          + "road: 'Hamilton Avenue',\n"
          + "neighbourhood: 'Crescent Park',\n"
          + "city: 'Palo Alto',\n"
          + "postcode: '94303',\n"
          + "county: 'Santa Clara County',\n"
          + "state: 'California',\n"
          + "country: 'United States',}";
String formatted = formatter.format(json);
/*
301 Hamilton Avenue
Palo Alto, CA 94303
United States of America
*/

static AddressFormatter abbreviateFormatter = new AddressFormatter(OutputType.STRING, true, false);
String json = "{country_code: 'US',\n"
          + "house_number: '301',\n"
          + "road: 'Hamilton Avenue',\n"
          + "neighbourhood: 'Crescent Park',\n"
          + "city: 'Palo Alto',\n"
          + "postcode: '94303',\n"
          + "county: 'Santa Clara County',\n"
          + "state: 'California',\n"
          + "country: 'United States',}";
String formatted = abbreviateFormatter.format(json);
/*
301 Hamilton Ave
Palo Alto, CA 94303
United States of America
*/

static AddressFormatter appendCountryFormatter = new AddressFormatter(OutputType.STRING, false, true);
String json = "{country_code: 'US',\n"
          + "house_number: '301',\n"
          + "road: 'Hamilton Avenue',\n"
          + "neighbourhood: 'Crescent Park',\n"
          + "city: 'Palo Alto',\n"
          + "postcode: '94303',\n"
          + "county: 'Santa Clara County',\n"
          + "state: 'California',}"
String formatted = appendCountryFormatter.format(json);
/*
301 Hamilton Ave
Palo Alto, CA 94303
United States of America
*/

```

### Acknowledgements

- [Javascript implementation](https://github.com/fragaria/address-formatter)
